import{w as g,c as m,k as v,l as A,x as h,r as p,j as e,e as u,A as x,L as y,B as j,f,S as C,g as b}from"./index-qlHXIeU4.js";const S=()=>{const{gender:o}=g(),[i]=m(),a=i.get("query")||void 0,n=i.get("limit")||9,t=i.get("page")||1,c=v();return{...A({queryKey:["Activo_asignacions",{limit:n,page:t,query:a}],queryFn:()=>h({limit:isNaN(+n)?9:+n,page:+t,query:a}),staleTime:1e3*60*5}),invalidate:()=>c.invalidateQueries({queryKey:["Activo_asignacions"]})}},_=()=>{const[o,i]=p.useState(!1),{data:a,isLoading:n,isPending:t,isFetching:c,invalidate:r}=S();console.log({data:a});const l=[{header:"ID",accessorKey:"id"},{header:"FECHA",accessorFn:s=>{const d=s.fecha?new Date(s.fecha):null;return d?d.toISOString().split("T")[0]:""}},{header:"CODIGO",accessorFn:s=>s.responsable.CODIGO||""},{header:"Nombre Responsable",accessorFn:s=>s.responsable.lastname+" "+s.responsable.name||""},{header:"COD Activo",accessorKey:"activo.COD_ACTIVO"},{header:"Activo",accessorKey:"activo.nombre_activo"},{header:"Serial",accessorKey:"activo.serial"},{header:"TIPO ASIGNACION",accessorKey:"tipo_asignacion.detalle"}];return o?e.jsx(u,{}):n||t||c?e.jsx(u,{}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"page fade-in flex  justify-between items-center",children:e.jsx(x,{title:"Asignaciones de Activos",subtitle:"Aquí puedes ver y administrar tus Asignaciones de Activos"})}),e.jsx("div",{className:"flex gap-2 mb-2 ",children:e.jsx(y,{to:"/admin/activo_asignacion/new",children:e.jsxs(j,{onClick:()=>i(!0),children:[e.jsx(f,{}),"Nueva Asignación de Activos."]})})}),e.jsxs("div",{className:"mb-25",children:[e.jsx(C,{data:a?.data||[],columns:l,locationForm:"/admin/activo_asignacion",invalidate:r}),e.jsx(b,{totalPages:a?.pages||0})]})]})};export{_ as AdminActivo_asignacionesPage,_ as default};
