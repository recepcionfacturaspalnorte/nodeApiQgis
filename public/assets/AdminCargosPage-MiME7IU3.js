import{i as l,w as g,c as u,l as d,r as m,j as s,e as o,A as x,L as p,B as j,f as C,S as f,g as h}from"./index-Cvrl6C6l.js";const y=async n=>{const{page:a,limit:e,offset:t,query:r}=n,{data:i}=await l.get("/cargo",{params:{page:a,limit:e,offset:t,q:r}});return console.log(i),i},A=()=>{const{gender:n}=g(),[a]=u(),e=a.get("query")||void 0,t=a.get("limit")||9,r=a.get("page")||1;return d({queryKey:["cargos",{limit:t,page:r,query:e}],queryFn:()=>y({limit:isNaN(+t)?9:t,page:r,query:e}),staleTime:1e3*60*5})},q=()=>{const[n,a]=m.useState(!1),{data:e,isLoading:t,isPending:r,isFetching:i}=A();console.log({data:e});const c=[{header:"CODIGO",accessorKey:"COD_CARGO"},{header:"DETALLE",accessorKey:"detalle"}];return n?s.jsx(o,{}):t||r||i?s.jsx(o,{}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"page fade-in flex  justify-between items-center",children:s.jsx(x,{title:"Cargos",subtitle:"AquÃ­ puedes ver y administrar tus Cargos"})}),s.jsx("div",{className:"flex gap-2 mb-2 ",children:s.jsx(p,{to:"/admin/cargo/new",children:s.jsxs(j,{onClick:()=>a(!0),children:[s.jsx(C,{}),"Nuevo Cargo"]})})}),s.jsxs("div",{className:"mb-25",children:[s.jsx(f,{data:e?.data||[],columns:c,locationForm:"/admin/Cargo"}),s.jsx(h,{totalPages:e?.pages||0})]})]})};export{q as AdminCargosPage,q as default};
