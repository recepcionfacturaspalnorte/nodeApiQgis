import{j as e,e as v,h as M,r as b,p as ee,b as re,A as se,B as F,L as ae,X as y,q as te,T as le,s as oe,v as a,D as E,W as ie,E as A,F as k,G as P,H as D,w as ne,Z as de,N as K}from"./index-BP-vK1Zn.js";import{u as ce}from"./useTipo_equipos-DgQED1Uf.js";import{u as ue}from"./useTipo_activos-BNVI0ymV.js";import{u as me}from"./useCategoria_activos-Hn9fewv-.js";import"./get-tipo_equipo.action-BBsX_L7B.js";import"./get-tipo_activos.action-DgIGDBn3.js";import"./get-categoria_activo.action-B3vdoCDx.js";const xe=({userId:d,setOpenModal:x,setValue:o})=>{const{data:i,isPending:n,isFetching:p,isLoading:g}=ce();console.log({data:i});const m=async l=>(console.log("llega al padre"),console.log({updated:l}),console.log(l.row.id),x(!1),o("tipo_equipoId",l.row.id),o("cod_tipo_equipo.detalle",l.row.detalle),!0),c=[{header:"Descripcion",accessorKey:"detalle"}];return n||g||p?e.jsx(v,{}):e.jsx(e.Fragment,{children:e.jsx("div",{children:e.jsx(M,{data:i?.data||[],columns:c,userId:d,onPermissionChange:m,mostrarBoton:!1})})})},pe=({userId:d,setOpenModal:x,setValue:o})=>{const{data:i,invalidate:n}=ue(),[p,g]=b.useState([]);console.log({data:i});const m=async l=>(console.log("llega al padre"),console.log({updated:l}),console.log(l.row.id),x(!1),o("tipo_activoId",l.row.id),o("tipo_activo.detalle",l.row.detalle),!0),c=[{header:"Descripcion",accessorKey:"detalle"}];return e.jsx(e.Fragment,{children:e.jsx("div",{className:"flex-1 overflow-auto mt-2",children:e.jsx(M,{data:i?.data||[],columns:c,userId:d,onPermissionChange:m,invalidate:n,mostrarBoton:!1})})})},ge=({userId:d,setOpenModal:x,setValue:o})=>{const{data:i,isPending:n,isFetching:p,isLoading:g}=me();console.log({data:i});const m=async l=>(console.log("llega al CategoriaActivosTable"),console.log({updated:l}),console.log(l.row.id),x(!1),o("categoria_activoId",l.row.id),o("cod_categoria_activo.detalle",l.row.detalle),!0),c=[{header:"Descripcion",accessorKey:"detalle"}];return n||g||p?e.jsx(v,{}):e.jsx(e.Fragment,{children:e.jsx("div",{children:e.jsx(M,{data:i?.data||[],columns:c,userId:d,onPermissionChange:m,mostrarBoton:!1})})})},be=({title:d,subTitle:x,onSubmit:o,handleDelete:i,clase:n,isPending:p,isDeleting:g,openModal:m,setOpenModal:c,openModalTipoActivo:l,setOpenModalTipoActivo:h,openModalCategoriaActivo:N,setOpenModalCategoriaActivo:j,files:w,setFiles:q,handleDeleteImage:S})=>{const{register:s,handleSubmit:I,formState:{errors:r},getValues:z,setValue:f,watch:U}=ee({defaultValues:n}),_=U("Activo_asignacion.0.responsable");console.log("asignacion:"),console.log(_);const[H,O]=b.useState(!1),[W,J]=b.useState(""),[Q,$]=b.useState(!1),T=t=>{t.preventDefault(),t.stopPropagation(),t.type==="dragenter"||t.type==="dragover"?O(!0):t.type==="dragleave"&&O(!1)},X=t=>{t.preventDefault(),t.stopPropagation(),O(!1);const u=t.dataTransfer.files;if(!u)return;q(B=>[...B,...Array.from(u)]);const C=z("files")||[];f("files",[...C,...Array.from(u)])},Z=t=>{const u=t.target.files;if(!u)return;q(B=>[...B,...Array.from(u)]);const C=z("files")||[];f("files",[...C,...Array.from(u)]),console.log(C)},G=re().pathname.split("/").filter(Boolean),Y=G[G.length-1];console.log("initialvalues"),console.log({initialValues:n});const V=(n?.images??[]).map(t=>typeof t=="string"?{url:t}:t);console.log("imagenes:");let L=!1;Y==="new"&&(L=!0);const R=t=>{f(t,null)};return p||g?e.jsx(v,{}):e.jsxs("form",{className:"py-0 pb-10",onSubmit:I(o),children:[e.jsxs("div",{className:"max-w-7xl mx-auto px-0 sm:px-0 lg:px-8 flex flex-col gap-4",children:[e.jsx(se,{title:d,subtitle:x}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(F,{variant:"outline",type:"button",children:e.jsxs(ae,{to:"/admin/activo",className:"flex items-center gap-2",children:[e.jsx(y,{className:"w-4 h-4"}),"Cancelar"]})}),e.jsxs(F,{type:"submit",disabled:p,children:[e.jsx(te,{className:"w-4 h-4"}),"Guardar"]}),!L&&e.jsxs(F,{onClick:()=>i(+n.id),variant:"destructive",type:"button",children:[e.jsx(le,{className:"w-4 h-4 mr-2"}),"Eliminar"]})]})]}),e.jsx("div",{className:"max-w-7xl mx-auto px-0 sm:px-0 lg:px-8 py-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"lg:col-span-2 space-y-6",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-slate-200 p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-6",children:"Información de Activos"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("div",{className:"relative w-full",children:e.jsxs("label",{className:"flex items-center text-sm font-medium text-slate-700 mb-2",children:["Código",e.jsx("img",{src:oe,alt:"Campo llave",className:"w-4 h-4 ml-2"})]})}),e.jsx("input",{readOnly:!L,type:"text",...s("COD_ACTIVO",{required:!0}),className:a("w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-gray-500 focus:border-transparent transition-all duration-200","read-only:bg-gray-100 read-only:text-gray-500 read-only:cursor-not-allowed",{"border-red-500":r.COD_ACTIVO}),placeholder:"Ingrese Código"}),r.COD_ACTIVO&&e.jsx("p",{className:"text-red-500 text-sm",children:"El Código es requerido"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Detalle"}),e.jsx("input",{type:"text",...s("nombre_activo",{required:!0}),className:a("w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-gray-500 focus:border-transparent transition-all duration-200",{"border-red-500":r.nombre_activo}),placeholder:"Nombre"}),r.nombre_activo&&e.jsx("p",{className:"text-red-500 text-sm",children:"el Nombre del Activo  es requerido"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Marca"}),e.jsx("input",{type:"text",...s("marca",{required:!0}),className:a("w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-gray-500 focus:border-transparent transition-all duration-200",{"border-red-500":r.nombre_activo}),placeholder:"Marca"}),r.marca&&e.jsx("p",{className:"text-red-500 text-sm",children:"Marca es requerido"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Serial Activo"}),e.jsx("input",{type:"text",...s("serial",{required:!1}),className:a("w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-gray-500 focus:border-transparent transition-all duration-200",{"border-red-500":r.nombre_activo}),placeholder:"Serial del Activo"}),r.nombre_activo&&e.jsx("p",{className:"text-red-500 text-sm",children:"el Nombre del Activo  es requerido"})]}),e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Responsable del activo"}),e.jsx("div",{className:"py-2  pb-2 relative",children:e.jsx("input",{type:"text",readOnly:!0,value:`${_?.CODIGO??""} - ${_?.lastname??""} ${_?.name??""}`,className:a("w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-gray-500 focus:border-transparent transition-all duration-200"),placeholder:"Responsable..."})}),e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Tipo de Activo"}),e.jsxs("div",{className:"py-2  pb-2 relative",children:[e.jsx("input",{type:"hidden",...s("tipo_activoId",{required:!1}),placeholder:"Buscar...",className:"w-full pl-4 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"}),e.jsx("input",{type:"text",readOnly:!0,...s("tipo_activo.detalle",{required:!1}),placeholder:"Buscar...",className:"w-full pl-4 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"}),e.jsx("button",{onClick:()=>{h(!0)},type:"button",className:"absolute right-11 top-1/2 -translate-y-1/2 bg-gray-200 hover:bg-gray-300 text-gray-600 rounded-s-full p-2 cursor-pointer transition-colors",children:e.jsx(E,{size:18})}),e.jsx("button",{onClick:()=>R("tipo_equipoId"),type:"button",className:"absolute right-2 top-1/2 -translate-y-1/2 bg-gray-200 hover:bg-gray-300 text-gray-600 rounded-e-full p-2 cursor-pointer transition-colors",children:e.jsx(y,{size:18})})]}),e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Tipo de Equipo"}),e.jsxs("div",{className:"py-2  pb-2 relative",children:[e.jsx("input",{type:"hidden",...s("tipo_equipoId",{required:!1}),placeholder:"Buscar...",className:"w-full pl-4 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"}),e.jsx("input",{type:"text",readOnly:!0,...s("cod_tipo_equipo.detalle",{required:!1}),placeholder:"Buscar...",className:"w-full pl-4 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"}),e.jsx("button",{onClick:()=>{c(!0),console.log(open),console.log("clic")},type:"button",className:"absolute right-11 top-1/2 -translate-y-1/2 bg-gray-200 hover:bg-gray-300 text-gray-600 rounded-s-full p-2 cursor-pointer transition-colors",children:e.jsx(E,{size:18})}),e.jsx("button",{onClick:()=>R("tipo_equipoId"),type:"button",className:"absolute right-2 top-1/2 -translate-y-1/2 bg-gray-200 hover:bg-gray-300 text-gray-600 rounded-e-full p-2 cursor-pointer transition-colors",children:e.jsx(y,{size:18})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Procesador"}),e.jsx("input",{type:"text",...s("procesador",{required:!1}),className:a("w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-gray-500 focus:border-transparent transition-all duration-200",{"border-red-500":r.procesador}),placeholder:"Procesador"}),r.procesador&&e.jsx("p",{className:"text-red-500 text-sm",children:"el Procesador es requerido"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Memoria RAM"}),e.jsx("input",{type:"text",...s("memoria_ram",{required:!1}),className:a("w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-gray-500 focus:border-transparent transition-all duration-200",{"border-red-500":r.memoria_ram}),placeholder:"Memoria RAM"}),r.procesador&&e.jsx("p",{className:"text-red-500 text-sm",children:"el Procesador es requerido"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Sistema Operativo"}),e.jsx("input",{type:"text",...s("sistema_operativo",{required:!1}),className:a("w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-gray-500 focus:border-transparent transition-all duration-200",{"border-red-500":r.memoria_ram}),placeholder:"Sistema Operativo"}),r.procesador&&e.jsx("p",{className:"text-red-500 text-sm",children:"el Procesador es requerido"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Licencia Sistema Operativo"}),e.jsx("input",{type:"text",...s("licencia",{required:!1}),className:a("w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-gray-500 focus:border-transparent transition-all duration-200",{"border-red-500":r.memoria_ram}),placeholder:"Licencia Sistema Operativo"}),r.procesador&&e.jsx("p",{className:"text-red-500 text-sm",children:"Licencia es requerido"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Disco Duro"}),e.jsx("input",{type:"text",...s("almacenamiento",{required:!1}),className:a("w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-gray-500 focus:border-transparent transition-all duration-200",{"border-red-500":r.memoria_ram}),placeholder:"Disco Duro"}),r.procesador&&e.jsx("p",{className:"text-red-500 text-sm",children:"el Procesador es requerido"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Serial Disco Duro"}),e.jsx("input",{type:"text",...s("serial_almacenamiento",{required:!1}),className:a("w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-gray-500 focus:border-transparent transition-all duration-200",{"border-red-500":r.memoria_ram}),placeholder:"Serial Disco Duro"}),r.procesador&&e.jsx("p",{className:"text-red-500 text-sm",children:"el Serial  es requerido"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Licencia Office"}),e.jsx("input",{type:"text",...s("licencia_office",{required:!1}),className:a("w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-gray-500 focus:border-transparent transition-all duration-200",{"border-red-500":r.memoria_ram}),placeholder:"Licencia Office"}),r.procesador&&e.jsx("p",{className:"text-red-500 text-sm",children:"Licencia  es requerido"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Licencia Antivirus"}),e.jsx("input",{type:"text",...s("licencia_antivirus",{required:!1}),className:a("w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-gray-500 focus:border-transparent transition-all duration-200",{"border-red-500":r.memoria_ram}),placeholder:"Licencia Antivirus"}),r.procesador&&e.jsx("p",{className:"text-red-500 text-sm",children:"Licencia  es requerido"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Disponibilidad"}),e.jsx("input",{type:"number",...s("disponibilidad",{required:!1}),className:a("w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-gray-500 focus:border-transparent transition-all duration-200",{"border-red-500":r.disponibilidad}),placeholder:"Disponibilidad"}),r.procesador&&e.jsx("p",{className:"text-red-500 text-sm",children:"Requerido"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Integridad"}),e.jsx("input",{type:"number",...s("integridad",{required:!1}),className:a("w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-gray-500 focus:border-transparent transition-all duration-200",{"border-red-500":r.integridad}),placeholder:"Integridad"}),r.procesador&&e.jsx("p",{className:"text-red-500 text-sm",children:"Integridad  es requerido"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Confidencialidad"}),e.jsx("input",{type:"number",...s("confidencialidad",{required:!1}),className:a("w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-gray-500 focus:border-transparent transition-all duration-200",{"border-red-500":r.integridad}),placeholder:"Confidencialidad"}),r.procesador&&e.jsx("p",{className:"text-red-500 text-sm",children:"Requerido"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Valoracion Cuantitativa"}),e.jsx("input",{type:"number",...s("valor_cuantitativo",{required:!1}),className:a("w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-gray-500 focus:border-transparent transition-all duration-200",{"border-red-500":r.valor_cuantitativo}),placeholder:"Valoracion Cuantitativa"}),r.valor_cuantitativo&&e.jsx("p",{className:"text-red-500 text-sm",children:"Requerido"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Valoración Cualitativa"}),e.jsx("input",{type:"number",...s("valor_cualitativo",{required:!1}),className:a("w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-gray-500 focus:border-transparent transition-all duration-200",{"border-red-500":r.valor_cualitativo}),placeholder:"Valoracion Cualitativa"}),r.procesador&&e.jsx("p",{className:"text-red-500 text-sm",children:"Requerido"})]}),e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Categoría de Activo"}),e.jsxs("div",{className:"py-2  pb-2 relative",children:[e.jsx("input",{type:"hidden",...s("categoria_activoId",{required:!1}),placeholder:"Buscar...",className:"w-full pl-4 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"}),e.jsx("input",{type:"text",readOnly:!0,...s("cod_categoria_activo.detalle",{required:!1}),placeholder:"Buscar...",className:"w-full pl-4 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"}),e.jsx("button",{onClick:()=>{j(!0),console.log(open),console.log("clic")},type:"button",className:"absolute right-11 top-1/2 -translate-y-1/2 bg-gray-200 hover:bg-gray-300 text-gray-600 rounded-s-full p-2 cursor-pointer transition-colors",children:e.jsx(E,{size:18})}),e.jsx("button",{onClick:()=>R("categoria_activoId"),type:"button",className:"absolute right-2 top-1/2 -translate-y-1/2 bg-gray-200 hover:bg-gray-300 text-gray-600 rounded-e-full p-2 cursor-pointer transition-colors",children:e.jsx(y,{size:18})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"e-mail"}),e.jsx("input",{type:"email",...s("email",{required:!1}),className:a("w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-gray-500 focus:border-transparent transition-all duration-200",{"border-red-500":r.email}),placeholder:"email"}),r.email&&e.jsx("p",{className:"text-red-500 text-sm",children:"Requerido"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Password 1"}),e.jsx("input",{type:"text",...s("password1",{required:!1}),className:a("w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-gray-500 focus:border-transparent transition-all duration-200",{"border-red-500":r.password1}),placeholder:"Password 1"}),r.password1&&e.jsx("p",{className:"text-red-500 text-sm",children:"Requerido"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Password 2"}),e.jsx("input",{type:"text",...s("password2",{required:!1}),className:a("w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-gray-500 focus:border-transparent transition-all duration-200",{"border-red-500":r.password2}),placeholder:"Password 2"}),r.password2&&e.jsx("p",{className:"text-red-500 text-sm",children:"Requerido"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Password 3"}),e.jsx("input",{type:"text",...s("password3",{required:!1}),className:a("w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-gray-500 focus:border-transparent transition-all duration-200",{"border-red-500":r.password3}),placeholder:"Password 3"}),r.password3&&e.jsx("p",{className:"text-red-500 text-sm",children:"Requerido"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Password 4"}),e.jsx("input",{type:"text",...s("password4",{required:!1}),className:a("w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-gray-500 focus:border-transparent transition-all duration-200",{"border-red-500":r.password4}),placeholder:"Password 4"}),r.password4&&e.jsx("p",{className:"text-red-500 text-sm",children:"Requerido"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Password 5"}),e.jsx("input",{type:"text",...s("password5",{required:!1}),className:a("w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-gray-500 focus:border-transparent transition-all duration-200",{"border-red-500":r.password5}),placeholder:"Password 5"}),r.password5&&e.jsx("p",{className:"text-red-500 text-sm",children:"Requerido"})]})]})]})}),e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-slate-200 p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-6",children:"Imágenes del Activo"}),e.jsxs("div",{className:`relative border-2 border-dashed rounded-lg p-6 text-center transition-all duration-200 ${H?"border-blue-400 bg-blue-50":"border-slate-300 hover:border-slate-400"}`,onDragEnter:T,onDragLeave:T,onDragOver:T,onDrop:X,children:[e.jsx("input",{type:"file",multiple:!0,accept:"image/*",className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",onChange:Z}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(ie,{className:"mx-auto h-12 w-12 text-slate-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-lg font-medium text-slate-700",children:"Arrastra las imágenes aquí"}),e.jsx("p",{className:"text-sm text-slate-500",children:"o haz clic para buscar"})]}),e.jsx("p",{className:"text-xs text-slate-400",children:"PNG, JPG, WebP hasta 10MB cada una"})]})]}),e.jsxs("div",{className:a("mt-6 space-y-3",{hidden:V.length===0}),children:["                ",e.jsx("h3",{className:"text-sm font-medium text-slate-700",children:"Imágenes actuales"}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:V.map((t,u)=>e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"aspect-square shadow-lg border-2 bg-slate-100 rounded-lg  border-slate-200 flex items-center justify-center",children:e.jsx("img",{onClick:()=>{J(`${t.url}`),$(!0)},src:`${t.url}`,alt:"Product",className:"cursor-pointer w-full h-full object-cover rounded-lg"})}),e.jsx("button",{type:"button",title:"Quitar Imagen",onClick:()=>S(t.id),className:"absolute top-2 right-2 p-1 bg-red-500 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:e.jsx(y,{className:"h-4 w-4"})}),e.jsxs("p",{className:"mt-1 text-xs text-slate-600 truncate",children:[t.url,"`"]})]},u))})]}),e.jsxs("div",{className:a("mt-6 space-y-3",{hidden:w.length===0}),children:[e.jsx("h3",{className:"text-sm font-medium text-slate-700",children:"Imágenes por cargar"}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:w.map((t,u)=>e.jsx("img",{src:URL.createObjectURL(t),alt:"Product",className:"w-full h-full object-cover rounded-lg"},u))})]})]})})]})}),e.jsx(A,{open:m,onOpenChange:c,children:e.jsxs(k,{children:[e.jsx(P,{children:e.jsx(D,{children:"Búsqueda de Tipos de  Equipo"})}),e.jsx("div",{children:e.jsx(xe,{openModal:m,setOpenModal:c,setValue:f})})]})}),e.jsx(A,{open:l,onOpenChange:h,children:e.jsxs(k,{children:[e.jsx(P,{children:e.jsx(D,{children:"Búsqueda de Tipos de  Activos"})}),e.jsx("div",{children:e.jsx(pe,{openModal:l,setOpenModal:h,setValue:f})})]})}),e.jsx(A,{open:N,onOpenChange:j,children:e.jsxs(k,{children:[e.jsx(P,{children:e.jsx(D,{children:"Búsqueda de Categoría de  Activos"})}),e.jsx("div",{children:e.jsx(ge,{openModal:N,setOpenModal:j,setValue:f})})]})}),e.jsx(A,{open:Q,onOpenChange:$,children:e.jsxs(k,{children:[e.jsx(P,{children:e.jsx(D,{children:"Imagen"})}),e.jsx("div",{children:e.jsx("div",{className:"flex items-center gap-1 shadow-lg border-2",children:e.jsx("img",{src:W,alt:"Vista previa",className:"rounded-lg shadow-lg"})})})]})})]})},_e=()=>{const{id:d}=ne(),[x,o]=b.useState(!1),[i,n]=b.useState(!1),[p,g]=b.useState(!1),{isLoading:m,isError:c,data:l,mutation:h,mutationDelete:N,handleDelete:j,handleSubmit:w,files:q,setFiles:S,handleDeleteImage:s}=de(d||""),I=d==="new"?"Nuevo Activo":"Editar Activo",r=d==="new"?"Aquí puedes crear un nuevo Activo.":"Aquí puedes editar el Activo";return c?e.jsx(K,{to:"/admin/activo"}):m?e.jsx(v,{}):l?(console.log(l),e.jsx(e.Fragment,{children:e.jsx(b.Suspense,{fallback:e.jsx(v,{}),children:e.jsx(be,{title:I,subTitle:r,clase:l,onSubmit:w,handleDelete:j,isPending:h.isPending,isDeleting:N.isPending,openModal:x,setOpenModal:o,openModalTipoActivo:i,setOpenModalTipoActivo:n,openModalCategoriaActivo:p,setOpenModalCategoriaActivo:g,files:q,setFiles:S,handleDeleteImage:s})})})):e.jsx(K,{to:"/admin/activo"})};export{_e as AdminActivoPage,_e as default};
