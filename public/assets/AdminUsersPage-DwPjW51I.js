import{J as h,a4 as x,i as g,r as f,y as j,j as e,e as d,A as w,L as y,B as u,f as C,S as O,g as A}from"./index-BTQL2UJT.js";/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D=[["path",{d:"M12 13v8l-4-4",key:"1f5nwf"}],["path",{d:"m12 21 4-4",key:"1lfcce"}],["path",{d:"M4.393 15.269A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.436 8.284",key:"ui1hmy"}]],S=h("cloud-download",D),U=async a=>{const{data:t}=await x.get("https://www.palnortesas.com/palmetric/AdminLTE-2.3.6/palmetric/modEmpleado/getClientes.php?accio=LISTARTODO");return t},L=async a=>{const{id:t,files:o=[],...n}=a,{data:r}=await g({url:"/auth/registerPalnorteUser",method:"POST",data:{...n}});return{...r}},k=()=>{const[a,t]=f.useState(!1),{data:o,isLoading:n}=j();console.log({data:o});const r=[{header:"CODIGO",accessorKey:"CODIGO"},{header:"Usuario",accessorFn:i=>`${i.lastname} ${i.name}`},{header:"Email",accessorKey:"email"}],m=async()=>{const c=(await U()).results;console.log("data desde handleDownload:"),console.log(c);for(const s of c)try{const l={id:"new",name:s.cliente,lastname:s.apellidos,foto:s.foto,email:s.email,role:"user",password:s.CODIGO,CODIGO:s.CODIGO,isActive:!0,emailValidated:!0},p=await L(l);console.log(p)}catch(l){console.log({error:l})}};return a?e.jsx(d,{}):n?e.jsx(d,{}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"page fade-in flex  justify-between items-center",children:e.jsx(w,{title:"Usuarios del Sistema",subtitle:"AquÃ­ puedes ver y administrar tus Usuarios del Sistema"})}),e.jsxs("div",{className:"flex gap-2 mb-2 ",children:[e.jsx(y,{to:"/admin/users/new",children:e.jsxs(u,{onClick:()=>t(!0),children:[e.jsx(C,{}),"Nuevo Usuario"]})}),e.jsxs(u,{onClick:m,children:[e.jsx(S,{}),"Cargar Datos"]})]}),e.jsxs("div",{children:[e.jsx(O,{data:o?.data||[],columns:r,locationForm:"/admin/users"}),e.jsx(A,{totalPages:o?.pages||0})]})]})};export{k as AdminUsersPage,k as default};
