import{u as g,j as e,B as m,P as p,a as x,A as l}from"./index-C-ahIkx3.js";import{Q as u}from"./QuickActionsAdmin-CjS3bwJO.js";import{S as h}from"./StatCard-DIJH1JCA.js";import{u as b}from"./useTickets-BaXkB-gM.js";import{u as d,H as j,W as f,O as v}from"./useTicketsPending-BFWUd6f1.js";import{F as N}from"./file-text-D8uceegw.js";import"./power-BUrkrTy2.js";function c(t,o="/admin/ticket/"){console.log("https://nodeintegracionsiesa-production.up.railway.app/api/images/ticket");const a=g();function i(s){return s?typeof s=="string"?s.slice(0,10):s.toISOString().slice(0,10):""}return e.jsxs("div",{className:`border border-gray-200 rounded-2xl mb-4 \r
        \r
         p-5 shadow-sm bg-white`,children:[e.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[e.jsx("div",{className:"top-0 my-0 flex items-center space-x-0 p-0 rounded-lg  transition-colors",children:e.jsxs("div",{className:"w-33 h-13 bg-gradient-to-br from-green-400 to-green-700 rounded-full flex items-center justify-center text-white font-semibold",children:["TK- ",t.id]})}),e.jsxs(m,{onClick:()=>a(`${o}${t.id}`),className:`ml-auto inline-flex items-center gap-1 px-3 py-1.5 \r
      bg-green-50 text-green-700 rounded-md border border-green-200 \r
      hover:bg-green-100 hover:border-green-300 \r
      transition-all duration-200`,children:[e.jsx(p,{className:"w-4 h-4"}),e.jsx("span",{children:"Revisar"})]})]}),e.jsx("div",{className:"mt-4 text-xs text-gray-500 flex flex-wrap gap-4",children:e.jsxs("p",{children:["Creado: ",e.jsx("span",{className:"text-gray-600",children:e.jsxs("span",{className:"text-sm text-gray-500",children:[" ",i(t.fecha)," ",t.hora]})})]})}),e.jsxs("div",{className:"mt-4",children:[e.jsxs("p",{className:"text-gray-800 font-medium text-sm rounded-xl pl-2 pt-2 pb-2 bg-green-200 text-blue-600 ",children:[t.usuario?.lastname?.toUpperCase()," ",t.usuario?.name?.toUpperCase()]}),e.jsxs("p",{className:"text-gray-600 text-sm mt-1",children:[e.jsx("p",{className:"text-gray-800 mt-3 font-semibold",children:"    Nombre del Activo:"}),t.activo?.nombre_activo," Marca: ",t.activo?.marca]}),e.jsx("p",{className:"text-gray-800 mt-3 font-semibold",children:t.titulo}),e.jsx("p",{className:"text-gray-800 mt-3 font-semibold",children:t.obser})]}),e.jsx("br",{}),e.jsx("div",{className:"flex  gap-3 ",children:t.images.map((s,r)=>e.jsx("div",{className:"relative gap-3 group w-[5cm] h-[5cm]",children:e.jsx("img",{onClick:()=>{},src:`${s.url}`,alt:"imagen",className:" object-cover shadow-lg rounded-lg bg-white rounded-xl shadow-lg border border-slate-200 p-6 gap-3 "})},r))})]})}const I=()=>{const{user:t}=x(),{ticketsPending:o}=d(1),{ticketsInProgress:n}=d(2),{TicketsSummary:a}=b();console.log(a),console.log("lista:"),console.log({lista:o}),o?.data&&(console.log("Lista no es null"),console.log("Lista.data"),console.log(o?.data)),n?.data&&(console.log("listaInProgresss no es null"),console.log("listaInProgresss.data"),console.log(n?.data));const i=[{title:"Total Tickets",value:a.data?.count?.toString()||"0",change:"Completados: "+((a.data?.totalInCompleted||0)/(a.data?.count||0)).toFixed(1)+" %",changeType:"positive",icon:N,color:"bg-blue-500",porcen:(a.data?.totalInCompleted||0)/(a.data?.count||0)},{title:"Pendientes",value:a.data?.totalPending?.toString()||0,change:((a.data?.totalPending||0)*100/(a.data?.count||0)).toFixed(1)+" %",changeType:"positive",icon:j,color:"bg-green-500",porcen:(a.data?.totalPending||0)*100/(a.data?.count||0)},{title:"En Progreso",value:a.data?.totalInProgress?.toString()||0,change:((a.data?.totalInProgress||0)*100/(a.data?.count||0)).toFixed(1)+" %",changeType:"negative",icon:f,color:"bg-purple-500",porcen:(a.data?.totalInProgress||0)*100/(a.data?.count||0)},{title:"Cancelados",value:a.data?.totalCancelado?.toString()||0,change:((a.data?.totalCancelado||0)*100/(a.data?.count||0)).toFixed(1)+" %",changeType:"positive",icon:v,color:"bg-orange-500",porcen:(a.data?.totalCancelado||0)*100/(a.data?.count||0)}];return e.jsxs("div",{className:"page fade-in",children:[e.jsx(l,{title:"Perfil",subtitle:"Perfil del Usuario"}),a.data!=null&&e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8 mt-4",children:i.map((s,r)=>e.jsx(h,{...s},r))}),e.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200 mb-4",children:e.jsxs("div",{className:"page fade-in",children:[e.jsx(l,{title:"Tickets Pendientes",subtitle:"Listado de tickets de Servicio pendientes"}),Array.isArray(o?.data)?o.data.map((s,r)=>e.jsx(c,{...s},r)):e.jsx(e.Fragment,{})]})}),e.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200 mb-4",children:e.jsxs("div",{className:"page fade-in",children:[e.jsx(l,{title:"Tickets en Progreso",subtitle:"Listado de tickets de Servicio en Progreso"}),Array.isArray(n?.data)?n.data.map((s,r)=>e.jsx(c,{...s},r)):e.jsx(e.Fragment,{})]})}),e.jsx(u,{})]})};export{I as AdminProfilePage,I as default};
